## Deribit Storage

Проект для периодического сбора и хранения индексовых цен с криптобиржи Deribit и предоставления внешнего API для доступа к историческим данным.

- **Назначение**: раз в минуту получать с Deribit текущую index price для `btc_usd` и `eth_usd`, сохранять в PostgreSQL (тикер, цена, UNIX timestamp), а затем отдавать эти данные через FastAPI.
- **Стек**: Python, FastAPI (async), PostgreSQL, SQLAlchemy (async) + Alembic, Celery, Docker Compose, брокер для Celery (на старте Redis, с возможностью перехода на RabbitMQ в прод-сценарии), HTTP-клиент (первичный кандидат — `aiohttp`, с проработкой альтернатив).
- **API**: только GET-методы с обязательным query‑параметром `ticker`, версионирование (`/api/v1/...`), автоматическая документация через FastAPI (OpenAPI/Swagger UI).

См. формулировку задания в `ТЗ.md`.

## Запуск и развертывание (черновое)

...

## Ссылки на ключевые документы

- **Техническое задание**: `ТЗ.md`
- **Дорожная карта**: `ROADMAP.md`
- **Дизайн-документ**: `DESIGN.md`

API-документация будет доступна после запуска сервиса (Swagger UI / ReDoc, генерируется FastAPI).

## Design decisions (кратко)

- **Async‑стек**: выбран асинхронный подход (FastAPI + async SQLAlchemy + async HTTP-клиент) для универсальности и лучшей поддержки I/O‑нагруженных сценариев.
- **Celery + брокер**: для учебного запуска используется простой в настройке брокер (Redis в Docker); для прод‑нагрузок в дизайн-доке предусмотрена возможность перехода на RabbitMQ.
- **ORM + миграции**: SQLAlchemy (async) + Alembic для типобезопасного доступа к данным и управляемых миграций.
- **Структура проекта**: разделение по функционалу (API, доступ к БД, фоновые задачи, клиенты к внешним сервисам, общие настройки).

Подробные обоснования см. в `DESIGN.md`.

## Лицензия

Лицензия пока не выбрана. Для открытой публикации возможен выбор между MIT / Apache‑2.0 / BSD‑3 и др.

## Контактная информация

Автор: kirilinartem@yandex.ru